---

---
<button
  id="theme-toggle"
  type="button"
  aria-label="Toggle theme"
  class="relative w-12 h-6 bg-neutral-300 dark:bg-neutral-700 rounded-full transition-colors duration-300 focus:outline-none"
>
  <span
    id="toggle-thumb"
    class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-md transition-transform duration-300"
  ></span>
</button>

<script is:inline>
	const html = document.documentElement;
	const toggle = document.getElementById('theme-toggle');
	const thumb = document.getElementById('toggle-thumb');

	function setTheme(theme) {
		html.setAttribute('data-theme', theme);
		localStorage.setItem('theme', theme);
		updateUI(theme);
	}

	function updateUI(theme) {
		if (theme === 'dark') {
			thumb.classList.add('translate-x-6');
		} else {
			thumb.classList.remove('translate-x-6');
		}
	}

	const storedTheme = localStorage.getItem('theme');
	const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
	const initialTheme = storedTheme || (systemPrefersDark ? 'dark' : 'light');
	setTheme(initialTheme);

	toggle.addEventListener('click', () => {
		const currentTheme = html.getAttribute('data-theme');
		const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
		setTheme(newTheme);
	});
</script>
